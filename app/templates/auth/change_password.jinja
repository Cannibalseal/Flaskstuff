{% extends "components/_main.jinja" %}

{% block main %}
<div class="card" style="max-width: 500px; margin: 3rem auto;">
    <h2>{% if is_required %}Change Your Password{% else %}Change Password{% endif %}</h2>
    
    {% if is_required %}
    <p style="margin-bottom: 1.5rem; color: var(--cyan);">
        For security reasons, you must change your password before continuing.
    </p>
    {% endif %}
    
    <form method="POST" novalidate>
        {{ form.hidden_tag() }}
        
        <div style="margin-bottom: 1.5rem;">
            {{ form.current_password.label }}
            {{ form.current_password(class="form-control") }}
        </div>
        
        <div style="margin-bottom: 1.5rem;">
            {{ form.new_password.label }}
            {{ form.new_password(class="form-control") }}
            <small style="color: var(--text-muted); font-size: 0.875rem;">Minimum 8 characters</small>
        </div>
        
        <div style="margin-bottom: 1.5rem;">
            {{ form.confirm_password.label }}
            {{ form.confirm_password(class="form-control") }}
        </div>
        
        <div style="display: flex; gap: 1rem; justify-content: flex-end; margin-top: 2rem;">
            {% if not is_required %}
            <a href="{{ url_for('admin.dashboard') }}" class="button" style="background: var(--glass-bg); color: var(--text);">Cancel</a>
            {% endif %}
            {{ form.submit(class="button") }}
        </div>
    </form>
</div>
{% endblock %}
