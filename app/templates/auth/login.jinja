{% extends "components/_main.jinja" %}

{% block title %}Log In{% endblock %}

{% block main %}
<div class="card">
  <h2>Sign in</h2>
  <p class="muted">Enter your credentials to access the admin area.</p>

  <form action="{{ url_for('auth.login') }}" method="post" novalidate style="max-width:420px;margin:1rem auto;text-align:left;">
    {{ form.hidden_tag() }}
    
    <div style="margin-bottom:1rem;">
      {{ form.username.label(class="muted", style="display:block;margin-bottom:0.35rem;") }}
      {{ form.username(class="form-input") }}
    </div>

    <div style="margin-bottom:1rem;">
      {{ form.password.label(class="muted", style="display:block;margin-bottom:0.35rem;") }}
      {{ form.password(class="form-input") }}
    </div>

    <p style="margin-top:1.5rem; text-align:center; display:flex; gap:0.5rem; justify-content:center;">
      {{ form.submit(class="button", style="flex:1; max-width:160px; border:none;") }}
      <a class="button" href="{{ url_for('public.index') }}" style="flex:1; max-width:160px; display:flex; align-items:center; justify-content:center;">Cancel</a>
    </p>
  </form>

  <div style="margin-top:2rem; padding-top:2rem; border-top:1px solid var(--card-border); text-align:center;">
    <p class="muted" style="margin-bottom:0.75rem;">Don't have an account?</p>
    <a href="{{ url_for('auth.register') }}{% if request.args.get('next') %}?next={{ request.args.get('next') }}{% endif %}" 
       class="button" 
       style="background: linear-gradient(135deg, var(--dark-purple), var(--blue)); display:inline-flex; align-items:center; gap:0.5rem;">
      <i class="bi bi-person-plus"></i> Create New Account
    </a>
  </div>
</div>
{% endblock %}
