{% extends "components/_main.jinja" %}

{% block title %}Articles{% endblock %}

{% block main %}
<div class="card">
	<h2>Articles</h2>
	<p>Here are some short posts and examples you can read and reuse.</p>
	<ul style="text-align:left; display:inline-block; margin:0; padding-left:1.1rem;">
		{% for a in articles %}
			<li>
				<a href="{{ url_for('public.article_detail', slug=a.slug) }}"><strong>{{ a.title }}</strong></a> &mdash; <small>{{ a.summary }}</small>
			</li>
		{% else %}
			<li>No articles available.</li>
		{% endfor %}
	</ul>
	
	{% if pagination.pages > 1 %}
	<div class="pagination">
		{% if pagination.has_prev %}
			<a href="{{ url_for('public.articles', page=pagination.prev_num) }}" class="page-link">&laquo; Previous</a>
		{% else %}
			<span class="page-link disabled">&laquo; Previous</span>
		{% endif %}
		
		{% for page_num in pagination.iter_pages(left_edge=1, right_edge=1, left_current=2, right_current=2) %}
			{% if page_num %}
				{% if page_num == pagination.page %}
					<span class="page-link active">{{ page_num }}</span>
				{% else %}
					<a href="{{ url_for('public.articles', page=page_num) }}" class="page-link">{{ page_num }}</a>
				{% endif %}
			{% else %}
				<span class="page-link disabled">...</span>
			{% endif %}
		{% endfor %}
		
		{% if pagination.has_next %}
			<a href="{{ url_for('public.articles', page=pagination.next_num) }}" class="page-link">Next &raquo;</a>
		{% else %}
			<span class="page-link disabled">Next &raquo;</span>
		{% endif %}
	</div>
	{% endif %}
	
	<p style="margin-top:1rem;"><a class="button" href="/">Back to Home</a></p>
</div>
{% endblock %}

